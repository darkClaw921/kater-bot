# Архитектура проекта WAKE Bot

## Основные компоненты

```
kater-bot/
├── main.py                  # Точка входа в приложение
├── config.py                # Конфигурация и переменные окружения
├── .env                     # Файл с переменными окружения (не в репозитории)
├── .env.example             # Пример файла с переменными окружения
├── README.md                # Документация проекта
├── architecture.md          # Описание архитектуры (этот файл)
├── data/                    # Модули с данными
│   └── faq.py               # Данные для часто задаваемых вопросов
├── handlers/                # Обработчики сообщений и колбэков
│   ├── __init__.py          # Регистрация всех обработчиков
│   ├── start.py             # Обработчик команды /start
│   ├── user_info.py         # Обработчики сбора информации о пользователе
│   ├── menu.py              # Обработчики меню
│   └── questions.py         # Обработчики вопросов из FAQ
├── keyboards/               # Клавиатуры
│   ├── __init__.py          # Импорты клавиатур
│   ├── experience_kb.py     # Клавиатура для выбора опыта
│   ├── menu_kb.py           # Клавиатура для главного меню
│   └── question_kb.py       # Клавиатура для вопросов из FAQ
└── utils/                   # Утилиты
    ├── __init__.py          # Импорты утилит
    └── states.py            # Машина состояний для диалога
```

## Описание файлов и компонентов

### Основные файлы

- **main.py** - Главный файл приложения, содержит инициализацию бота, диспетчера и регистрацию обработчиков.
- **config.py** - Содержит настройки бота, загружает переменные окружения из .env файла.

### Директория handlers

- **__init__.py** - Содержит функцию для регистрации всех обработчиков.
- **start.py** - Обработчик команды /start, начинает диалог с пользователем.
- **user_info.py** - Обработчики получения имени, возраста и опыта катания пользователя.
- **menu.py** - Обработчики различных пунктов меню бота (FAQ, информация о вейксерфинге, вейкбординге, цены, команда, запись).
- **questions.py** - Обработчики для часто задаваемых вопросов и возврата в главное меню.

### Директория keyboards

- **__init__.py** - Импортирует все клавиатуры для удобного доступа.
- **experience_kb.py** - Содержит функцию создания клавиатуры для выбора опыта катания.
- **menu_kb.py** - Содержит функцию создания клавиатуры для главного меню.
- **question_kb.py** - Содержит функцию создания клавиатуры для вопросов FAQ.

### Директория utils

- **__init__.py** - Импортирует все утилиты для удобного доступа.
- **states.py** - Содержит класс состояний для управления диалогом с пользователем.

### Директория data

- **faq.py** - Содержит данные о часто задаваемых вопросах и пунктах меню.

## Процесс работы бота

1. Пользователь запускает бота командой /start
2. Бот приветствует пользователя и просит ввести имя и возраст
3. После ввода имени и возраста бот спрашивает об опыте катания
4. После ответа на вопрос об опыте бот показывает главное меню
5. Пользователь выбирает интересующий раздел или вопрос
6. В зависимости от выбора пользователя, бот показывает:
   - Список часто задаваемых вопросов
   - Информацию о вейксерфинге
   - Информацию о вейкбординге
   - Прайс-лист
   - Информацию о команде
   - Способы записи на каталку

## Расширение функциональности

Для добавления новых разделов и функций в бота необходимо:

1. Добавить новые состояния в `utils/states.py` (если нужно)
2. Создать новые клавиатуры в директории `keyboards/` (если нужно)
3. Добавить новые обработчики в директории `handlers/`
4. Зарегистрировать новые обработчики в `handlers/__init__.py` 